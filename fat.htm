<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet"/>
    <title>Fatturizzazione (Risoluzione di un enigma)</title>
</head>

<body>
    <br>
    <br>
<div class="container text-center d-flex align-items-center justify-content-center">
    <div>
        <div>
            <h1>Fattorizzatore di base</h1>
        </div>

        <div>
            <button class="btn btn-primary " id = "myBUTTON" onclick="code()">Cerca i fattori minori a 1000</button>

        </div>
<br>
        <div>
            <p id="p1"> </p>
            <p id="p2"> </p>
            <p id="p3"> </p>
            <p id="p4"> </p>
            <p id="p5"> </p>
            <p id="p6"> </p>
        </div>

    </div>
</div>

   
</body>
 
<script>


    function code ()
{
        let contmax = 0;
        let cont = 0;
        let fat = 1;
        let div = 1;
        let a = 0;
        let cont1 = 0;
 
        let contmax2 = 0;
        let cont2 = 0;
        let a2 = 0;
        let cont3 = 0;
        let tot3 = 0
        let fat2 = 1;
        let div2 = 1;
        let ris = 0;
        let ris2 = 0;
        let prim = 0;
        let stringaFattori="";
        let lastm;


 
 
        for (fat = 1; fat<1000; fat++)
        {
            for (div = 1; div<1000; div++)
            {
                if (fat%div==0)
                {
                    cont++;
                    cont1++;
                }
 
            }  
 
            if (cont >= contmax)
                {
                    contmax = cont;
                    a = fat;
                }
                cont=0;
        }
 
        for (fat2 = 1000; fat2<2000; fat2++)
        {
            for (div2 = 1; div2<2000; div2++)
            {
                if (fat2%div2==0)
                {
                    cont2++;
                    cont3++;
                }
 
            }  
 
            if (cont2 >= contmax2)
                {
                    contmax2 = cont2;
                    a2 = fat2;
                    ris = a2;
                }
                cont2=0;
        }
        


        function isPrime( n)
{
      // since 0 and 1 is not prime return false.
      if(n == 1 || n == 0) return false;
   
      // Run a loop from 2 to n-1
      for(var i = 2; i < n; i++)
      {
       
        // if the number is divisible by i, then n is not a prime number.
        if(n % i == 0) return false;
      }
      // otherwise, n is prime number.
      return true;
}
 
 
// Driver code
var M = 855;
var N = 1695;
let prim2 = 0;
 
// check for every number from 1 to N
  for(var i = 1680; i <= N; i++)
  {
      // check if current number is prime
      if(isPrime(i)) {
        prim = i;
      }
}

for(var i = 840; i <= M; i++)
  {
      // check if current number is prime
      if(isPrime(i)) {
        prim2 = i;
      }
}






 
cont4= cont1 - 336;
tot3 = a*a2;
lastm = prim*prim2;




      for(fat=1; fat<=lastm/2;fat++)
        {
             if (lastm%fat==0)
                 {  stringaFattori=stringaFattori+ fat+" ";
                 }


        }


   

document.getElementById("p1").innerHTML = "Esercizio 1) Il numero con più numeri primi ne ha " + contmax + " ed è " + a;
document.getElementById("p2").innerHTML = "<br>" + "Esercizio 2) La somma di tutti i fattori meno il totale dei numeri primi è " + cont4 + " (contando anche il divisore 1)" /*numero dei numeri primi e i loro divisori*/;
document.getElementById("p3").innerHTML = "<br>Esercizio 3) La moltiplicazione tra " + a + " è " + a2 + " vale " + tot3;

document.getElementById("p4").innerHTML = "<br>Esercizio 4)" + prim2 + " è il primo numero primo dopo " + a;
document.getElementById("p5").innerHTML = "<br>Esercizio 5)" + prim + " è il primo numero primo dopo " + a2;
document.getElementById("p6").innerHTML = "<br>Esercizio 6)" + "La moltiplicazione tra " + prim + " e " + prim2 + " è " + lastm + " e i suoi fattori sono " + stringaFattori;
 
 
}
</script>
</html>
